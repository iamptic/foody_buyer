<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Foody ‚Äî –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ä—è–¥–æ–º</title>
  <link rel="stylesheet" href="./styles.css"/>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>document.addEventListener('DOMContentLoaded',()=>{if(window.Telegram&&Telegram.WebApp){Telegram.WebApp.ready();try{Telegram.WebApp.expand()}catch(e){}}});</script>
</head>
<body class="light">
  <header class="topbar">
    <div class="brand"><div class="logo">ü•°</div><div class="title"><div class="name">Foody</div><div class="subtitle">–ì–æ—Ä—è—á–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ä—è–¥–æ–º</div></div></div>
    <div class="top-actions"><button id="refreshBtn" class="btn ghost">–û–±–Ω–æ–≤–∏—Ç—å</button></div>
  </header>

  <main class="container">
    <section class="card">
      <div class="filters wrap">
        <input id="search" class="input" placeholder="–ü–æ–∏—Å–∫: –±–ª—é–¥–æ –∏–ª–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω"/>
        <select id="category"><option value="">–ö–∞—Ç–µ–≥–æ—Ä–∏—è ‚Äî –≤—Å–µ</option></select>
        <input id="minPrice" class="input" type="number" min="0" step="1" placeholder="–¶–µ–Ω–∞ –æ—Ç"/>
        <input id="maxPrice" class="input" type="number" min="0" step="1" placeholder="–¶–µ–Ω–∞ –¥–æ"/>
        <select id="sort"><option value="new">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option><option value="price">–ü–æ —Ü–µ–Ω–µ</option><option value="time">–ü–æ –≤—Ä–µ–º–µ–Ω–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è</option><option value="dist">–ü–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é</option></select>
        <label class="fav-only"><input type="checkbox" id="onlyFav"/> –¢–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</label>
        <label class="radius"><span>–†–∞–¥–∏—É—Å:</span> <input id="radius" type="number" min="0" step="1" value="5"/> –∫–º</label>
        <button id="geoBtn" class="btn">üìç –ú–æ—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è</button>
      </div>
      <div class="muted small" id="geoState">–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è: –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞</div>
    </section>

    <section class="card">
      <div id="empty" class="empty hidden"><div class="empty-emoji">üîé</div><div class="empty-title">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div></div>
      <div id="offers" class="cards-grid large"></div>
    </section>
  </main>

  <dialog id="reserveModal" class="modal">
    <form method="dialog" id="reserveForm" class="modal-card">
      <h3>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –±—Ä–æ–Ω—å</h3>
      <div id="reserveOffer" class="muted"></div>
      <div class="field"><label>–í–∞—à–µ –∏–º—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label><input id="buyerName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ê–Ω–Ω–∞" /></div>
      <div class="actions end"><button class="btn ghost" value="cancel">–û—Ç–º–µ–Ω–∞</button><button class="btn primary" id="reserveSubmit" value="default">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button></div>
    </form>
  </dialog>

  <dialog id="okModal" class="modal">
    <div class="modal-card">
      <h3>–ë—Ä–æ–Ω—å —Å–æ–∑–¥–∞–Ω–∞</h3>
      <p>–ö–æ–¥: <b id="reserveCode"></b></p>
      <p id="reserveUntil" class="muted"></p>
      <div class="actions end"><button id="okClose" class="btn primary">–û–∫</button></div>
    </div>
  </dialog>

  <div id="toast" class="toast hidden"></div>
  <script src="./buyer.js"></script>
</body>
</html>
